<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Решение алгоритмической задачи</title>
</head>
<body>
    <p name="formulation">Можно ли в квадратном зале площадью S поместить круглую сцену радиусом R так, чтобы от стены до сцены был проход не менее K?</p>
    <form action="https://www.bing.com/search?" id="UserEnter" name="UserEnter" target="_blank" method="get">
        <ul>
            <li>Площадь зала (S): <input id="a" name="s" type="number" step="any" value="5" min="0.01" required></li>
            <li>Радиус сцены (R): <input id="b" name="R" type="number" step="any" value="3" min="0.01" required></li>
            <li>Минимальный проход (K): <input id="c" name="K" type="number" step="any" value="6" min="0" required></li>
            <li>Результат решения задачи: <input id="result" name="result" value="не определен" readonly></li>
            <li>проверить: <input id="verify" type="button" value="Проверить"></li>
            <li>отправить форму: <input id="send" type="button" value="Отправить" disabled></li>
        </ul>
    </form>
</body>
<script>
function solveTask() {
    const S = parseFloat(document.getElementById('a').value);
    const R = parseFloat(document.getElementById('b').value);
    const K = parseFloat(document.getElementById('c').value);
    
    if (isNaN(S) || isNaN(R) || isNaN(K)) {
        return "Ошибка: введите корректные числа";
    }
    
    if (S <= 0 || R <= 0 || K < 0) {
        return "Ошибка: значения должны быть положительными (кроме K >= 0)";
    }
    
    const hallSide = Math.sqrt(S);
    const stageDiameter = 2 * R;
    const minRequiredSide = stageDiameter + 2 * K;
    
    if (minRequiredSide <= hallSide) {
        return "Да, можно";
    } else {
        return "Нет, нельзя";
    }
}

function checkSolution() {
    const result = solveTask();
    document.getElementById('result').value = result;
    
    const sendButton = document.getElementById('send');
    if (result === "Да, можно") {
        sendButton.disabled = false;
        sendButton.style.backgroundColor = "#4CAF50";
        sendButton.style.color = "white";
    } else {
        sendButton.disabled = true;
        sendButton.style.backgroundColor = "#f44336";
        sendButton.style.color = "white";
    }
}

function submitForm() {
    const result = document.getElementById('result').value;
    
    if (result === "Да, можно") {
        const form = document.getElementById('UserEnter');
        const resultInput = document.createElement('input');
        resultInput.type = 'hidden';
        resultInput.name = 'q';
        resultInput.value = `Задача решена: ${result}`;
        form.appendChild(resultInput);
        
        form.submit();
    } else {
        alert('Сначала решите задачу правильно!');
    }
}

document.addEventListener('DOMContentLoaded', function() {
    document.getElementById('verify').addEventListener('click', checkSolution);
    document.getElementById('send').addEventListener('click', submitForm);
    
    document.getElementById('send').disabled = true;
    document.getElementById('send').style.backgroundColor = "#cccccc";
    
    document.getElementById('a').addEventListener('input', function() {
        document.getElementById('result').value = 'не определен';
        document.getElementById('send').disabled = true;
        document.getElementById('send').style.backgroundColor = "#cccccc";
    });
    
    document.getElementById('b').addEventListener('input', function() {
        document.getElementById('result').value = 'не определен';
        document.getElementById('send').disabled = true;
        document.getElementById('send').style.backgroundColor = "#cccccc";
    });
    
    document.getElementById('c').addEventListener('input', function() {
        document.getElementById('result').value = 'не определен';
        document.getElementById('send').disabled = true;
        document.getElementById('send').style.backgroundColor = "#cccccc";
    });
});
</script>
</html>
